var documenterSearchIndex = {"docs":
[{"location":"pages/tutorials/CrossSection_convolution/","page":"Instrument Operator: Instrument Line Shapes","title":"Instrument Operator: Instrument Line Shapes","text":"EditURL = \"https://github.com/RadiativeTransfer/InstrumentOperator.jl/blob/master/docs/src/pages/tutorials/CrossSection_convolution.jl\"","category":"page"},{"location":"pages/tutorials/CrossSection_convolution/#Instrument-Operator:-Instrument-Line-Shapes","page":"Instrument Operator: Instrument Line Shapes","title":"Instrument Operator: Instrument Line Shapes","text":"","category":"section"},{"location":"pages/tutorials/CrossSection_convolution/","page":"Instrument Operator: Instrument Line Shapes","title":"Instrument Operator: Instrument Line Shapes","text":"using Pkg\nusing Plots","category":"page"},{"location":"pages/tutorials/CrossSection_convolution/#Add-packages:","page":"Instrument Operator: Instrument Line Shapes","title":"Add packages:","text":"","category":"section"},{"location":"pages/tutorials/CrossSection_convolution/","page":"Instrument Operator: Instrument Line Shapes","title":"Instrument Operator: Instrument Line Shapes","text":"Pkg.add(url=\"https://github.com/RadiativeTransfer/Architectures.jl\")\nPkg.add(url=\"https://github.com/RadiativeTransfer/Absorption.jl\")\npush!(LOAD_PATH,\"./src/\")\n\nusing Absorption\nusing InstrumentOperator\nusing Architectures","category":"page"},{"location":"pages/tutorials/CrossSection_convolution/#Load-HITRAN-data-and-CO2-cross-sections","page":"Instrument Operator: Instrument Line Shapes","title":"Load HITRAN data and CO2 cross sections","text":"","category":"section"},{"location":"pages/tutorials/CrossSection_convolution/","page":"Instrument Operator: Instrument Line Shapes","title":"Instrument Operator: Instrument Line Shapes","text":"hitran_data = read_hitran(artifact(\"CO2\"), mol=2, iso=1, ν_min=6000, ν_max=6400)\nline_co2 = make_hitran_model(hitran_data, Voigt(), architecture=CPU())","category":"page"},{"location":"pages/tutorials/CrossSection_convolution/#Compute-a-high-resolution-transmission-spectrum","page":"Instrument Operator: Instrument Line Shapes","title":"Compute a high resolution transmission spectrum","text":"","category":"section"},{"location":"pages/tutorials/CrossSection_convolution/","page":"Instrument Operator: Instrument Line Shapes","title":"Instrument Operator: Instrument Line Shapes","text":"Δν = 0.001\nν = 6275:Δν:6400;\nσ_co2   = absorption_cross_section(line_co2, ν, 200.0     , 296.0);\nnothing #hide","category":"page"},{"location":"pages/tutorials/CrossSection_convolution/","page":"Instrument Operator: Instrument Line Shapes","title":"Instrument Operator: Instrument Line Shapes","text":"Transmission through a typical atmosphere","category":"page"},{"location":"pages/tutorials/CrossSection_convolution/","page":"Instrument Operator: Instrument Line Shapes","title":"Instrument Operator: Instrument Line Shapes","text":"T = exp.(-8e21*σ_co2)","category":"page"},{"location":"pages/tutorials/CrossSection_convolution/#plot-high-resolution-transmission","page":"Instrument Operator: Instrument Line Shapes","title":"plot high resolution transmission","text":"","category":"section"},{"location":"pages/tutorials/CrossSection_convolution/","page":"Instrument Operator: Instrument Line Shapes","title":"Instrument Operator: Instrument Line Shapes","text":"plot(ν, T, lw=2)","category":"page"},{"location":"pages/tutorials/CrossSection_convolution/#Define-the-instrument-kernel","page":"Instrument Operator: Instrument Line Shapes","title":"Define the instrument kernel","text":"","category":"section"},{"location":"pages/tutorials/CrossSection_convolution/","page":"Instrument Operator: Instrument Line Shapes","title":"Instrument Operator: Instrument Line Shapes","text":"x = -8:Δν:8","category":"page"},{"location":"pages/tutorials/CrossSection_convolution/","page":"Instrument Operator: Instrument Line Shapes","title":"Instrument Operator: Instrument Line Shapes","text":"Create a kernel at a center wavenumber of 6300cm⁻¹","category":"page"},{"location":"pages/tutorials/CrossSection_convolution/","page":"Instrument Operator: Instrument Line Shapes","title":"Instrument Operator: Instrument Line Shapes","text":"FTS = FTSInstrument(5.0, 7.9e-3, 0.0)\nFTSkernel = create_instrument_kernel(FTS, x,6300.0)\nFTS_instr = FixedKernelInstrument(FTSkernel, collect(6280:0.01:6380))","category":"page"},{"location":"pages/tutorials/CrossSection_convolution/#Convolve-with-instrument-kernel","page":"Instrument Operator: Instrument Line Shapes","title":"Convolve with instrument kernel","text":"","category":"section"},{"location":"pages/tutorials/CrossSection_convolution/","page":"Instrument Operator: Instrument Line Shapes","title":"Instrument Operator: Instrument Line Shapes","text":"T_conv = conv_spectra(FTS_instr, ν, T);\nnothing #hide","category":"page"},{"location":"pages/tutorials/CrossSection_convolution/#overplot-convolved-transmission:","page":"Instrument Operator: Instrument Line Shapes","title":"overplot convolved transmission:","text":"","category":"section"},{"location":"pages/tutorials/CrossSection_convolution/","page":"Instrument Operator: Instrument Line Shapes","title":"Instrument Operator: Instrument Line Shapes","text":"plot!(FTS_instr.ν_out, T_conv)","category":"page"},{"location":"pages/tutorials/CrossSection_convolution/","page":"Instrument Operator: Instrument Line Shapes","title":"Instrument Operator: Instrument Line Shapes","text":"","category":"page"},{"location":"pages/tutorials/CrossSection_convolution/","page":"Instrument Operator: Instrument Line Shapes","title":"Instrument Operator: Instrument Line Shapes","text":"This page was generated using Literate.jl.","category":"page"},{"location":"#InstrumentOperator.jl","page":"Home","title":"InstrumentOperator.jl","text":"","category":"section"},{"location":"","page":"Home","title":"Home","text":"Collection of instrument line-shape methods for hyperspectral remote sensing. Basic objective is to provide composable routines to apply a variety of instrument line-shapes (ILS) for the convolution and resampling of high resolution modeled radiance (R) with an instrument operator. At the moment, we have FTS systems (sinc function convolved with assymetric box), spectrally varying lookup tables as for the Orbiting Carbon Observatory and generic distribution functions (e.g. Gaussian) as instrument kernels. ","category":"page"},{"location":"","page":"Home","title":"Home","text":"The main purpose is thus to provide a flexible framework to create ILS functions as ILS(Deltalambda) with appropriate upper/lower limits to perform the convolution at the high resolution grid:","category":"page"},{"location":"","page":"Home","title":"Home","text":"(R*ILS)(lambda_hr) = int_-infty^infty R(x)ILS(lambda_hr-x)dx","category":"page"},{"location":"","page":"Home","title":"Home","text":"and the necessary interpolation from the high resolution (hr) grid to the low resolution (lr) detector grid after convolution. ","category":"page"},{"location":"","page":"Home","title":"Home","text":"(R*ILS)(lambda_hr) xrightarrowtextCubic Spline (R*ILS)(lambda_lr)","category":"page"},{"location":"","page":"Home","title":"Home","text":"To simplify calculations, we require the high resolution grid to be equidistant, ideally defined as Range. The ILS kernel (implemented as OffsetArray) and the grid in R thus require the same spacing, as we implement the convolution using finite response functions over indices in both ILS and R:","category":"page"},{"location":"","page":"Home","title":"Home","text":"(R*ILS)(lambda_i)=sum_m=-M^MRlambda_i-mILSm","category":"page"},{"location":"#Installation","page":"Home","title":"Installation","text":"","category":"section"},{"location":"","page":"Home","title":"Home","text":"InstrumentOperator can be installed using the Julia package manager. From the Julia REPL, type ] to enter the Pkg REPL mode and run","category":"page"},{"location":"","page":"Home","title":"Home","text":"pkg> add https://github.com/RadiativeTransfer/InstrumentOperator.jl","category":"page"},{"location":"#Specific-functions,-structs","page":"Home","title":"Specific functions, structs","text":"","category":"section"},{"location":"","page":"Home","title":"Home","text":"create_instrument_kernel\nconv_spectra\nFixedKernelInstrument\nVariableKernelInstrument","category":"page"},{"location":"#InstrumentOperator.create_instrument_kernel","page":"Home","title":"InstrumentOperator.create_instrument_kernel","text":"Create kernel from a single continous distribution function\n\n\n\n\n\nCreate kernel from multiple single continous distribution function (convolves those)\n\n\n\n\n\n","category":"function"},{"location":"#InstrumentOperator.conv_spectra","page":"Home","title":"InstrumentOperator.conv_spectra","text":"Convolves and resamples the input spectrum with a fixed kernel\n\n\n\n\n\nConvolves and resamples the input spectrum with a variable kernel (per spectral position)\n\n\n\n\n\n","category":"function"},{"location":"#InstrumentOperator.FixedKernelInstrument","page":"Home","title":"InstrumentOperator.FixedKernelInstrument","text":"struct FixedKernelInstrument{FT}\n\nA struct which provides all parameters for the convolution with a kernel, which is identical across the instrument spectral axis\n\nFields\n\nkernel\nconvolution Kernel\nν_out\nOutput spectral grid\n\n\n\n\n\n","category":"type"},{"location":"#InstrumentOperator.VariableKernelInstrument","page":"Home","title":"InstrumentOperator.VariableKernelInstrument","text":"struct VariableInstrument{FT}\n\n    A struct which provides all parameters for the convolution with a kernel, which varies across the instrument spectral axis\n\nFields\n\nkernel\nconvolution Kernel\nν_out\nOutput spectral grid\nind_out\nOutput index grid\n\n\n\n\n\n","category":"type"}]
}
